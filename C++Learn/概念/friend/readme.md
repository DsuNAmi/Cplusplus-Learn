# 友元函数和友元类

## 概述

友元提供了一种普通函数或者类成员函数访问另一个类中的私有或保护成员的机制。

- 友元函数：普通函数对一个访问某个类中的私有或保护成员
- 友元类：类A中的成员函数访问类B中的私有或保护成员

优点：提高了程序的运行效率

缺点：破坏了类的封装性和数据的透明性

总结：

- 能访问私有成员
- 破坏封装性
- 友元关系不可传递
- 友元关系的单向性
- 友元声明的形式及数量不受限制

## 友元函数

在类声明的任何区域中声明，而定义则在类的外部

```c++
friend <type><friendFunctionName>(<params>)
```

注意，友元函数只是一个普通函数，并不是该类的类成员，它可以在任何地方调用，友元函数中通过对象名来访问该类的私有或保护成员。

参考代码 `friendFunc.cpp`

## 友元类

友元类的声明在该类的声明中，而实现在该类外。

```c++
friend class <friendClassName>
```

类B是类A的友元，那么类B可以直接访问A的私有成员

参考代码：`friendClass.cpp`

### 注意

- 友元关系没有继承性。假如类B是类A的友元，类C继承于类A，那么友元类B是没办法直接访问类C的私有或保护成员。
- 友元关系没有传递性。加入类B是类A的友元，类C是类B的友元，那么类C是没办法直接访问类A的私有或保护成员，也就是不存在友元的友这种关系。
